(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{121:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return x}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=o.a.createContext({}),l=function(e){var t=o.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=l(e.components);return o.a.createElement(u.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(n),d=r,x=p["".concat(a,".").concat(d)]||p[d]||f[d]||i;return n?o.a.createElement(x,c(c({ref:t},u),{},{components:n})):o.a.createElement(x,c({ref:t},u))}));function x(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var u=2;u<i;u++)a[u]=n[u];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},122:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(16),o=n(123);function i(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(r.default)();return{withBaseUrl:(n,r)=>function(e,t,n,{forcePrependBaseUrl:r=!1,absolute:i=!1}={}){if(!n)return n;if(n.startsWith("#"))return n;if(Object(o.b)(n))return n;if(r)return t+n;const a=n.startsWith(t)?n:t+n.replace(/^\//,"");return i?e+a:a}(t,e,n,r)}}function a(e,t={}){const{withBaseUrl:n}=i();return n(e,t)}},123:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},78:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return a})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(3),o=(n(0),n(121));n(122);const i={id:"notifications",title:"Send Notifications with OneSignal",sidebar_label:"iOS - Push notifications"},a={unversionedId:"notifications",id:"notifications",isDocsHomePage:!1,title:"Send Notifications with OneSignal",description:"Please follow the instructions in the video below to learn more on how to send notifications with OneSignal.",source:"@site/docs/notifications.md",slug:"/notifications",permalink:"/docs/notifications",editUrl:"https://github.com/FedericoTartarini/cozie-apple/tree/master/my-website/docs/notifications.md",version:"current",sidebar_label:"iOS - Push notifications",sidebar:"someSidebar",previous:{title:"Research Kit Tasks and Functionalities",permalink:"/docs/researchKit"},next:{title:"Watch OS App Intro",permalink:"/docs/watchIntro"}},c=[{value:"Sending custom notifications",id:"sending-custom-notifications",children:[]}],s={toc:c};function u({components:e,...t}){return Object(o.b)("wrapper",Object(r.a)({},s,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Please follow the instructions in the video below to learn more on how to send notifications with OneSignal."),Object(o.b)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/KgJbdKgmtsQ",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(o.b)("h2",{id:"sending-custom-notifications"},"Sending custom notifications"),Object(o.b)("p",null,"You can send custom notifications to users by using the following code. You will need to specify your ",Object(o.b)("inlineCode",{parentName:"p"},"authorization")," key in the header and the ",Object(o.b)("inlineCode",{parentName:"p"},"app_id")," in the payload. You can then set filters and target specific users as shown in the example below. You can read more about the different types of filter on the OneSignal ",Object(o.b)("a",{parentName:"p",href:"https://documentation.onesignal.com/reference/create-notification#example-code---create-notification"},"official documentation website"),"."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},'import requests\nimport json\n\nheader = {"Content-Type": "application/json; charset=utf-8",\n          "Authorization": "Basic xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}\n\npayload = {"app_id": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",\n           "filters": [\n                {"field": "country", "relation": "=", "value": "SG"},\n                {"operator": "AND"}, {"field": "app_version", "relation": "=", "value": "15"}\n            ],\n           "included_segments": ["All"],\n           "contents": {"en": "Please complete the Cozie survey, app version 15."}}\n\nreq = requests.post("https://onesignal.com/api/v1/notifications", headers=header, data=json.dumps(payload))\n\nprint(req.status_code, req.reason)\n')))}u.isMDXComponent=!0}}]);